
<div class="mh-100">    
  <div class="modal-header">
    <h5>Settings</h5>
    <a href ="/" class="btn btn-outline-success btn-sm mx-1">
      <span class="material-icons pull-right">arrow_back</span>
    </a>
  </div>
  <div class="modal-body" style="height:60vh">
    <div class="row">
      <div class="col-6">
        <div class="card">
          <div class="card-header input-group">
            <span><h5>Sports</h5></span>
            <button class="btn btn-outline-danger btn-sm mx-1" (click)="deleteSport()">
              <span class="material-icons pull-right">close</span>
            </button>
            <select class="form-select form-control ml-1"  [(ngModel)]="selectedSport">
              <option *ngFor="let s of sports" [ngValue]="s">{{s.name}}</option>
            </select>
            <button class="btn btn-outline-primary btn-sm mx-1" type="button" (click)="addSport()">
              <span class="material-icons">add</span>
            </button>
          </div>
          <div class="card-body">
            <div class="card-group">
              <div class="card">
                <div class="card-header input-group">
                  <span><h5>Events</h5></span>
                  <input type="text" class="form-control mx-1" placeholder="new event..."  [(ngModel)]="newEvent" />
                  <select class="form-select form-control"  [(ngModel)]="newEventBalance">
                    <option [ngValue]="0">=</option>
                    <option [ngValue]="1">+</option>
                    <option [ngValue]="-1">-</option>
                  </select>
                  <button class="btn btn-outline-primary btn-sm mx-1" type="button" (click)="addEvent()">
                    <span class="material-icons">add</span>
                  </button>
                </div>
                <div class="card-body">
                  <table class="table table-sm">
                    <tr style="cursor: pointer" *ngFor="let e of selectedSport?.events; let i = index">
                      <td width="95%">({{ e.balance == 1? "+": (e.balance == -1? "-" : 0) }}) {{ e.name }}</td>
                      <td>
                        <button class="btn btn-outline-danger" (click)="deleteEvent(i)">X</button>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class="card ml-2">
                <div class="card-header input-group">
                  <h5>Scores</h5>
                  <button
                    class="btn btn-outline-primary btn-sm ml-1"
                    type="button"
                    (click)="addScore()"><span class="material-icons">add</span>
                  </button>
                </div>
                <div class="card-body">
                  <div *ngFor="let score of selectedSport?.scores; let scoreIdx=index">
                    <div class="card-title d-flex justify-content-between">
                      <h5 (click)="editScore(scoreIdx)" role="button"><u>{{score.name}}</u></h5>
                      <button class="btn btn-outline-danger" (click)="deleteScore(scoreIdx)">X</button>
                    </div>
                    <div class="card-title d-flex justify-content-between">
                      <span>Slots: {{score.slots}}</span>
                      <span>Type: {{score.type}}</span>
                    </div>
                    <div class="d-flex justify-content-start flex-wrap list-group-horizontal mt-1" style="width:100%">
                      <span>Values:</span>
                      <h5 *ngFor="let v of score.values">
                        <span class="badge rounded-pill bg-dark ml-1 text-light">{{v}}</span>
                      </h5>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>        
      
      <div class="col-6">
        <div class="card">
          <div class="card-header input-group">
            <h5>Players</h5>
            <input type="text" class="form-control mx-1" placeholder="new player..."  [(ngModel)]="newPlayer" />
            <button
              class="btn btn-outline-primary btn-sm "
              type="button"
              (click)="addPlayer()"><span class="material-icons">add</span>
            </button>
          </div>
          <div class="card-body">
            <table class="table table-sm table-striped">
              <tr
                *ngFor="let p of players; let i = index"
              >
                <td width="95%">{{ p.name }}</td>
                <td>
                  <button class="btn btn-outline-danger btn-sm mx-4" (click)="deletePlayer(i)">
                    <span class="material-icons pull-right">close</span>
                  </button>
                </td>
              </tr>
            </table>
          </div> 
      </div>
    </div>
  </div>
</div>